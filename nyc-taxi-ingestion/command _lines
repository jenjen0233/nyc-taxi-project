# build docker image
docker build -t nyc-taxi-ingestion .

# Set up Application Default Credentials (ADC) - THIS IS KEY!
gcloud auth application-default login

# Set your project
gcloud config set project YOUR_PROJECT_ID

# Verify authentication
gcloud auth list

https://d37ci6vzurychx.cloudfront.net/trip-data/yellow_tripdata_2024-01.parquet

# Run the ingestion script with docker
docker run --rm \
  -v ~/.config/gcloud:/root/.config/gcloud \
  -v ~/Desktop/nyc-taxi-project/nyc-taxi-ingestion/ingest_data.py:/app/ingest_data.py \
  -e PROJECT_ID="wired-epsilon-472120-j8" \
  -e BUCKET_NAME="wired-epsilon-472120-j8-nyc-taxi-bucket" \
  -e YEARS="2024,2025" \
  -e DATASET_TYPE="yellow" \
  nyc-taxi-ingestion

https://d37ci6vzurychx.cloudfront.net/trip-data/fhv_tripdata_2024-02.parquet
file_name = f"{service}_tripdata_{year}-{month}.parquet"
https://d37ci6vzurychx.cloudfront.net/trip-data/yellow_tripdata_2024-02.parquet
https://d37ci6vzurychx.cloudfront.net/misc/taxi_zone_lookup.csv